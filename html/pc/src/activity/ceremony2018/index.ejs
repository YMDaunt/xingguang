<!-- 年度盛典 12.5 - 12.21 -->
<div id="app" v-cloak>
    <!-- /* img path - "../../../../../static_guojiang_tv/src/pc/v2/img/activity/ceremony2018/" */ -->
    <div class="page-bgs">
        <!-- bgs -->
        <div
            v-for="bg in ui.bgs[page.currStage]"
            :class="['page-bg', bg]"></div>
    </div>

    <div class="page-content">
        <!-- 赛程进度 -->
        <timeline :stage="page.stage" :curr-stage="page.currStage"></timeline>

        <!-- 主视图 -->
        <keep-alive>
            <router-view name="mviewer" :global="page"></router-view>
        </keep-alive>
    </div>

    <!-- floater视图 -->
    <router-view name="floater"></router-view>

    <!-- 弹窗视图 -->
    <router-view name="layer"></router-view>

    <!-- TOAST -->
    <div class="toast-box" v-show="ui.toast">
        <div class="info">{{ ui.toastMsg }}</div>
    </div>

    <!-- svg layer -->
    <div class="svg-layer" v-show="ui.svgLayer" @click="stopSvg">
        <div class="svg-container"></div>
    </div>
</div>

<script>
(function adaptation () {
    let href = window.location
    if (/Android|webOS|iPhone|iPod|iPad|BlackBerry|Windows Phone|SymbianOS/i.test(navigator.userAgent)) {
        if (href.host.indexOf('www') >= 0) {
            window.location.href = '//m.tuho.tv/dist' + href.pathname
        }
    } else {
        if (href.host.indexOf('www') < 0) {
            window.location.href = '//www.tuho.tv' + href.pathname.replace('/dist', '')
        }
    }
}())
</script>
